<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Simulation R6Class — Simulation • Simulacron3</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.0/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.0/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Simulation R6Class — Simulation"><meta name="description" content="Takes a specification for a data generating process (dgp),
list of estimators, config, list of summary_statistics to compute, and
provides a get_results method."><meta property="og:description" content="Takes a specification for a data generating process (dgp),
list of estimators, config, list of summary_statistics to compute, and
provides a get_results method."><meta property="og:image" content="https://ctesta01.github.io/Simulacron3/logo.png"><style> img.logo { width: 200px !important; } </style></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">Simulacron3</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.001</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/Comparing-Estimators.html">Comparing Estimators</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Simulation R6Class</h1>

      <div class="d-none name"><code>Simulation.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Takes a specification for a data generating process (<code>dgp</code>),
list of <code>estimators</code>, <code>config</code>, list of <code>summary_statistics</code> to compute, and
provides a <code>get_results</code> method.</p>
    </div>


    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The core idea is that a statistical simulation study consists of
specifying a repeatable data generating process, some functions (estimators)
to run on each generated data sample, and some summary statistics to compute
from the simulation results (typically that indicate aspects of the performance
of the estimators considered). This is represented by the following pipeline:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>  dgp</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>  estimators    <span class="ot">-&gt;</span>  Simulation<span class="sc">$</span><span class="fu">new</span>( ... ) <span class="ot">-&gt;</span> sim<span class="sc">$</span><span class="fu">run</span>() <span class="ot">-&gt;</span> sim<span class="sc">$</span><span class="fu">get_results</span>()</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>  config</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>  summary_fns</span></code></pre><p></p></div>
    </div>
    <div class="section level2">
    <h2 id="public-fields">Public fields<a class="anchor" aria-label="anchor" href="#public-fields"></a></h2>
    <p></p><div class="r6-fields"><dl><dt><code>dgp</code></dt>
<dd><p>A function that takes a single argument <code>n</code> for sample size and generates synthetic data.</p></dd>


<dt><code>estimators</code></dt>
<dd><p>A list of estimators that each can be called on the data</p></dd>


<dt><code>config</code></dt>
<dd><p>A list containing at least the number of <code>replications</code> to
perform, the <code>sample_size</code> to use, whether or not the simulation
should be <code>quiet</code>, and whether or not to run in <code>parallel</code>.</p></dd>


<dt><code>summary_stats</code></dt>
<dd><p>A list of summary statistic functions that can be called on the estimates produced</p></dd>


<dt><code>results</code></dt>
<dd><p>A data.frame of results from running the simulation</p></dd>


<dt><code>initialize</code></dt>
<dd><p>Method to initialize the simulation object (does nothing)</p></dd>


<dt><code>set_dgp</code></dt>
<dd><p>Method to set the data generating process</p></dd>


<dt><code>set_estimators</code></dt>
<dd><p>Method to set the estimators</p></dd>


<dt><code>set_config</code></dt>
<dd><p>Method to set the configuration</p></dd>


<dt><code>get_results</code></dt>
<dd><p>Method to retrieve results</p></dd>


<dt><code>set_summary_stats</code></dt>
<dd><p>Method to set summary statistics</p></dd>


<dt><code>run</code></dt>
<dd><p>Method to run the simulation</p></dd>


</dl><p></p></div>
    </div>
    <div class="section level2">
    <h2 id="active-bindings">Active bindings<a class="anchor" aria-label="anchor" href="#active-bindings"></a></h2>
    <p></p><div class="r6-active-bindings"><dl><dt><code>initialize</code></dt>
<dd><p>Method to initialize the simulation object (does nothing)</p></dd>


<dt><code>set_dgp</code></dt>
<dd><p>Method to set the data generating process</p></dd>


<dt><code>set_estimators</code></dt>
<dd><p>Method to set the estimators</p></dd>


<dt><code>set_config</code></dt>
<dd><p>Method to set the configuration</p></dd>


<dt><code>get_results</code></dt>
<dd><p>Method to retrieve results</p></dd>


<dt><code>set_summary_stats</code></dt>
<dd><p>Method to set summary statistics</p></dd>


<dt><code>run</code></dt>
<dd><p>Method to run the simulation</p></dd>


</dl><p></p></div>
    </div>
    <div class="section level2">
    <h2 id="methods">Methods<a class="anchor" aria-label="anchor" href="#methods"></a></h2>

<div class="section">
<h3 id="public-methods">Public methods<a class="anchor" aria-label="anchor" href="#public-methods"></a></h3>

<ul><li><p><a href="#method-Simulation-new"><code>Simulation$new()</code></a></p></li>
<li><p><a href="#method-Simulation-set_dgp"><code>Simulation$set_dgp()</code></a></p></li>
<li><p><a href="#method-Simulation-set_estimators"><code>Simulation$set_estimators()</code></a></p></li>
<li><p><a href="#method-Simulation-set_config"><code>Simulation$set_config()</code></a></p></li>
<li><p><a href="#method-Simulation-set_summary_stats"><code>Simulation$set_summary_stats()</code></a></p></li>
<li><p><a href="#method-Simulation-run"><code>Simulation$run()</code></a></p></li>
<li><p><a href="#method-Simulation-get_results"><code>Simulation$get_results()</code></a></p></li>
<li><p><a href="#method-Simulation-clone"><code>Simulation$clone()</code></a></p></li>
</ul></div><p></p><hr><a id="method-Simulation-new"></a><div class="section">
<h3 id="method-new-">Method <code>new()</code><a class="anchor" aria-label="anchor" href="#method-new-"></a></h3>

<div class="section">
<h4 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va"><a href="../reference/Simulation.html">Simulation</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-Simulation-set_dgp"></a><div class="section">
<h3 id="method-set-dgp-">Method <code>set_dgp()</code><a class="anchor" aria-label="anchor" href="#method-set-dgp-"></a></h3>

<div class="section">
<h4 id="usage-1">Usage<a class="anchor" aria-label="anchor" href="#usage-1"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Simulation</span><span class="op">$</span><span class="fu">set_dgp</span><span class="op">(</span><span class="va">dgp_func</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h4>
<p></p><div class="arguments"><dl><dt><code>dgp_func</code></dt>
<dd><p>A data generating process function (of one argument,
<code>n</code>) that produces a dataset for simulation purposes of the sample
size given.</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-Simulation-set_estimators"></a><div class="section">
<h3 id="method-set-estimators-">Method <code>set_estimators()</code><a class="anchor" aria-label="anchor" href="#method-set-estimators-"></a></h3>

<div class="section">
<h4 id="usage-2">Usage<a class="anchor" aria-label="anchor" href="#usage-2"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Simulation</span><span class="op">$</span><span class="fu">set_estimators</span><span class="op">(</span><span class="va">estimator_list</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-1">Arguments<a class="anchor" aria-label="anchor" href="#arguments-1"></a></h4>
<p></p><div class="arguments"><dl><dt><code>estimator_list</code></dt>
<dd><p>A list of functions that can be evaluated on the data
output from the data generating process <code>self$dgp</code>.</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-Simulation-set_config"></a><div class="section">
<h3 id="method-set-config-">Method <code>set_config()</code><a class="anchor" aria-label="anchor" href="#method-set-config-"></a></h3>

<div class="section">
<h4 id="usage-3">Usage<a class="anchor" aria-label="anchor" href="#usage-3"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Simulation</span><span class="op">$</span><span class="fu">set_config</span><span class="op">(</span><span class="va">config_list</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-2">Arguments<a class="anchor" aria-label="anchor" href="#arguments-2"></a></h4>
<p></p><div class="arguments"><dl><dt><code>config_list</code></dt>
<dd><p>A list of configuration settings for the simulation.
The following are used by <code>Simulacron3::Simulation</code> by default:
<code>replications</code> (integer), <code>sample_size</code>, <code>quiet</code>
and <code>parallel</code>.</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-Simulation-set_summary_stats"></a><div class="section">
<h3 id="method-set-summary-stats-">Method <code>set_summary_stats()</code><a class="anchor" aria-label="anchor" href="#method-set-summary-stats-"></a></h3>

<div class="section">
<h4 id="usage-4">Usage<a class="anchor" aria-label="anchor" href="#usage-4"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Simulation</span><span class="op">$</span><span class="fu">set_summary_stats</span><span class="op">(</span><span class="va">summary_func</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-3">Arguments<a class="anchor" aria-label="anchor" href="#arguments-3"></a></h4>
<p></p><div class="arguments"><dl><dt><code>summary_func</code></dt>
<dd><p>The summary function to set for the simulation. <code>summary_func</code> should take
as arguments <code>i, est_results, data</code>.</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-Simulation-run"></a><div class="section">
<h3 id="method-run-">Method <code>run()</code><a class="anchor" aria-label="anchor" href="#method-run-"></a></h3>

<div class="section">
<h4 id="usage-5">Usage<a class="anchor" aria-label="anchor" href="#usage-5"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Simulation</span><span class="op">$</span><span class="fu">run</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-Simulation-get_results"></a><div class="section">
<h3 id="method-get-results-">Method <code>get_results()</code><a class="anchor" aria-label="anchor" href="#method-get-results-"></a></h3>

<div class="section">
<h4 id="usage-6">Usage<a class="anchor" aria-label="anchor" href="#usage-6"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Simulation</span><span class="op">$</span><span class="fu">get_results</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-Simulation-clone"></a><div class="section">
<h3 id="method-clone-">Method <code>clone()</code><a class="anchor" aria-label="anchor" href="#method-clone-"></a></h3>
<p>The objects of this class are cloneable with this method.</p><div class="section">
<h4 id="usage-7">Usage<a class="anchor" aria-label="anchor" href="#usage-7"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Simulation</span><span class="op">$</span><span class="fu">clone</span><span class="op">(</span>deep <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-4">Arguments<a class="anchor" aria-label="anchor" href="#arguments-4"></a></h4>
<p></p><div class="arguments"><dl><dt><code>deep</code></dt>
<dd><p>Whether to make a deep clone.</p></dd>


</dl><p></p></div>
</div>

</div>

    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Example Usage</span></span></span>
<span class="r-in"><span><span class="co"># Define a data generating process</span></span></span>
<span class="r-in"><span><span class="va">dgp</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">n</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span>, y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Define some estimators</span></span></span>
<span class="r-in"><span><span class="va">estimators</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  mean_estimator <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">data</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">x</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  var_estimator <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">data</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/stats/cor.html" class="external-link">var</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">x</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Define a summary statistics function</span></span></span>
<span class="r-in"><span><span class="va">summary_func</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">iter</span> <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">est_results</span>, <span class="va">data</span> <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    mean_est <span class="op">=</span> <span class="va">est_results</span><span class="op">$</span><span class="va">mean_estimator</span>,</span></span>
<span class="r-in"><span>    var_est <span class="op">=</span> <span class="va">est_results</span><span class="op">$</span><span class="va">var_estimator</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create a simulation object</span></span></span>
<span class="r-in"><span><span class="va">sim</span> <span class="op">&lt;-</span> <span class="va">Simulation</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Set up the simulation</span></span></span>
<span class="r-in"><span><span class="va">sim</span><span class="op">$</span><span class="fu">set_dgp</span><span class="op">(</span><span class="va">dgp</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sim</span><span class="op">$</span><span class="fu">set_estimators</span><span class="op">(</span><span class="va">estimators</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sim</span><span class="op">$</span><span class="fu">set_config</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>replications <span class="op">=</span> <span class="fl">500</span>, sample_size <span class="op">=</span> <span class="fl">50</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sim</span><span class="op">$</span><span class="fu">set_summary_stats</span><span class="op">(</span><span class="va">summary_func</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Run the simulation</span></span></span>
<span class="r-in"><span><span class="va">sim</span><span class="op">$</span><span class="fu">run</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Retrieve results</span></span></span>
<span class="r-in"><span><span class="va">results</span> <span class="op">&lt;-</span> <span class="va">sim</span><span class="op">$</span><span class="fu">get_results</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">results</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Christian Testa.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

